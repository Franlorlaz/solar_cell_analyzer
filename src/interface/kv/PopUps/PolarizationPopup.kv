<PolarizePopup>:
    id_polarize_popup:
        continue_polarize, \
        polarization_title, polarization_description
    auto_dismiss: False
    title: 'Polarize Mode'
    size_hint: 0.7,0.6
    pos_hint: {'center_x':0.5, 'top':0.8}

    BoxLayout:
        size: root.width, root.height
        orientation: 'vertical'
        padding: 20
        spacing: 10

        FloatLayout:
            Label:
                id: polarization_title
                text: root.title_msg
                pos_hint:{'center_x':0.5,'center_y':0.95}
                bold: True
                font_size: 15
                color: 0.8,0.8,0.8

            Label:
                id: polarization_description
                text: root.description_msg
                pos_hint:{'center_x':0.5,'center_y':0.7}
                bold: False
                font_size: 15
                color: 0.8,0.8,0.8
                multiline: True
                text_size: self.parent.width-50, self.parent.height-10
                halign: 'center'
                valign: 'middle'


        BoxLayout:
            orientation: 'horizontal'
            size_hint:0.8,None
            height:30
            pos_hint:{'center_x':0.5,'center_y':0.5}

            MyButton:
                text: 'Stop'
                size_hint:0.4,0.75
                pos_hint:{'x':0.4,'center_y':0.5}
                on_press: root.stop_polarize()

            BoxLayout:
                size_hint:0.20,0.75

            MyButton:
                id: continue_polarize
                text: 'Continue'
                size_hint:0.4,0.75
                pos_hint:{'x':0.6,'center_y':0.5}
                on_press:
                    if self.text == 'Continue': root.polarize_next_cell()
                    else: root.start_measure()
